{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "FDS output",
    "description": "The plugin converts and stores IPFIX Data Records into FDS file format. Warning: The plugin is still under development!|https://github.com/CESNET/ipfixcol2/tree/master/src/plugins/output/fds",
    "type": "object",
    "properties": {
        "name": {
            "title": "Name",
            "description": "User identification of the instance. Must be unique within the section.",
            "type": "string",
            "default": "FDS output",
            "minLength": 1
        },
        "plugin": {
            "title": "Plugin",
            "description": "Internal identification of a plugin to whom the instance belongs. The identification is assigned by an author of the plugin.",
            "type": "string",
            "const": "fds"
        },
        "params": {
            "title": "Parameters",
            "description": "Configuration parameters of the instance.",
            "type": "object",
            "properties": {
                "storagePath": {
                    "title": "Storage path",
                    "description": "The path element specifies the storage directory for data files. Keep on mind that the path must exist in your system. Otherwise, no files are stored. All files will be stored based on the configuration using the following template: <storagePath>/YYYY/MM/DD/flows.<ts>.fds where YYYY/MM/DD means year/month/day and <ts> represents a UTC timestamp in format YYMMDDhhmmss.",
                    "type": "string",
                    "minLength": 1
                },
                "compression": {
                    "title": "Compression",
                    "description": "Data compression helps to significantly reduce size of output files. Following compression algorithms are available:\nnone: Compression disabled [default]\nlz4: LZ4 compression (very fast, slightly worse compression ration)\nzstd: ZSTD compression (slightly slower, good compression ration)",
                    "type": "string",
                    "default": "none",
                    "enum": ["none", "lz4", "zstd"]
                },
                "dumpInterval": {
                    "title": "Dump interval",
                    "description": "Configuration of output files rotation.",
                    "type": "object",
                    "properties": {
                        "timeWindow": {
                            "title": "Time window",
                            "description": "Specifies time interval in seconds to rotate files i.e. close the current file and create a new one. [default: 300]",
                            "type": "integer",
                            "minimum": 0,
                            "default": 300
                        },
                        "align": {
                            "title": "Align",
                            "description": "Align file rotation with next N minute interval. For example, if enabled and window size is 5 minutes long, files will be created at 0, 5, 10, etc. [values: yes/no, default: yes]",
                            "type":"string",
                            "enum": ["yes", "no"],
                            "default": "yes"
                        }
                    },
                    "required": ["timeWindow", "align"]
                },
                "asyncIO": {
                    "title": "Asynchronous IO",
                    "description": "Allows to use asynchronous I/O for writing to the file. Usually when parts of the file are being written, the process is blocked on synchronous I/O and waits for the operation to complete. However, asynchronous I/O allows the plugin to simultaneously write to file and process flow records, which significantly improves overall performance. (Note: a pool of service threads shared among instances of FDS plugin might be created). [values: true/false, default: true]",
                    "type": "boolean",
                    "default": true,
                    "enum": [true, false]
                }
            },
            "required": [
                "storagePath",
                "compression",
                "dumpInterval",
                "asyncIO"
            ]
        }
    },
    "required": ["name", "plugin", "params"]
}
